(self.webpackChunkparami_wallet=self.webpackChunkparami_wallet||[]).push([[212],{25592:function(J,L,t){"use strict";t.d(L,{Z:function(){return ee}});var j=t(28991),m=t(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},d=z,i=t(27029),p=function(l,c){return m.createElement(i.Z,(0,j.Z)((0,j.Z)({},l),{},{ref:c,icon:d}))};p.displayName="SyncOutlined";var ee=m.forwardRef(p)},46312:function(J,L,t){"use strict";t.d(L,{_:function(){return d}});var j=t(84066),m=t(73968);const z={12:16*8,15:20*8,18:24*8,21:28*8,24:32*8};function d(i=12,p=!1){return(0,j.DK)()&&!p?(0,j.s)(i):(0,m.OF)(z[i])}},31639:function(J){J.exports={did:"did___1Wse3",unit:"unit___UR_Yf"}},25997:function(J){J.exports={field:"field___34c8I",topIcon:"topIcon___1Umsj",title:"title___3JnK1",listBtn:"listBtn___S1ntX",value:"value___1dF_X",description:"description___3K0HO",buttons:"buttons___TtTnA",button:"button___3Gzcf",codeInput:"codeInput___2-Ztp",verifyForm:"verifyForm___lMSHe",highLight:"highLight___1EHuf",verifyInput:"verifyInput___EZlWA",exchanges:"exchanges___2OYe5",socialButtons:"socialButtons___64yer"}},3548:function(J,L,t){"use strict";var j=t(67294),m=t(31639),z=t.n(m),d=t(96534),i=t(85893),p=function(O){var l=O.value;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:z().did,children:[(0,d.MP)(l),(0,i.jsx)("span",{className:z().unit,children:"\xA0AD3"})]})})};L.Z=p},1665:function(J,L,t){"use strict";t.r(L),t.d(L,{default:function(){return Oe}});var j=t(3182),m=t(2824),z=t(94043),d=t.n(z),i=t(67294),p=t(43581),ee=t(55909),O=t.n(ee),l=t(58024),c=t(39144),I=t(57663),S=t(71577),N=t(47673),f=t(32787),T=t(48736),H=t(27049),se=t(34792),R=t(48086),Re=t(402),ce=t(59289),fe=t(25997),r=t.n(fe),P=t(1096),_=t(51625),e=t(85893),ge=ce.Z.Title,he=function(v){var K=v.magicMnemonic,n=v.setMagicMnemonic,C=v.setMagicUserAddress,G=v.setStep,Q=(0,i.useState)(!1),W=(0,m.Z)(Q,2),V=W[0],Y=W[1],U=(0,p.YB)(),$=function(){var w=(0,j.Z)(d().mark(function Z(){var E,M,b,B,F;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,P.qy)(K);case 3:return E=a.sent,M=E.userAddress,a.next=7,(0,P.Jj)(M);case 7:return b=a.sent,C(M),a.next=11,(0,P.qX)(b);case 11:return B=a.sent,a.next=14,(0,P.uR)(B==null?void 0:B.stashAccount);case 14:if(F=a.sent,F!==null){a.next=19;break}return R.default.error(U.formatMessage({id:"error.account.notFound"})),p.m8.push(_.Z.page.homePage),a.abrupt("return");case 19:return localStorage.setItem("magicUserAddress",M),localStorage.setItem("did",F),G(2),a.abrupt("return");case 25:return a.prev=25,a.t0=a.catch(0),R.default.error(a.t0.message),p.m8.push(_.Z.page.homePage),a.abrupt("return");case 30:case"end":return a.stop()}},Z,null,[[0,25]])}));return function(){return w.apply(this,arguments)}}(),X=function(){var w=(0,j.Z)(d().mark(function Z(){return d().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return Y(!0),M.next=3,$();case 3:Y(!1);case 4:case"end":return M.stop()}},Z)}));return function(){return w.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(c.Z,{className:O().card,children:[(0,e.jsx)("img",{src:"/images/icon/link.svg",className:r().topIcon}),(0,e.jsx)(ge,{level:2,style:{fontWeight:"bold"},className:r().title,children:U.formatMessage({id:"account.withLink.title"})}),(0,e.jsx)("p",{className:r().description,children:U.formatMessage({id:"account.withLink.description"})}),(0,e.jsx)(H.Z,{}),(0,e.jsxs)("div",{className:r().field,children:[(0,e.jsx)(ge,{level:4,children:U.formatMessage({id:"account.withLink.inputURL"})}),(0,e.jsx)(f.Z,{size:"large",bordered:!0,onChange:function(Z){var E=Z.target.value.indexOf("/link/")+6,M=Z.target.value.substring(E),b=M.replace(/%20/g," ");n(b)},disabled:V,placeholder:"https://wallet.parami.io/recover/link/..."})]}),(0,e.jsx)("div",{className:r().buttons,children:(0,e.jsx)(S.Z,{type:"primary",shape:"round",size:"large",className:r().button,disabled:!K,loading:V,onClick:function(){return X()},children:U.formatMessage({id:"common.confirm"})})})]})})},pe=he,Ke=t(17462),ye=t(76772),Se=t(74855),oe=t.n(Se),me=t(99165),Me=t(46312),ve=t(96534),ue=ce.Z.Title,je=function(v){var K=v.magicMnemonic,n=v.password,C=v.setPassword,G=v.setMagicKeystore,Q=v.setControllerUserAddress,W=v.setMagicUserAddress,V=v.setStep,Y=(0,i.useState)(!1),U=(0,m.Z)(Y,2),$=U[0],X=U[1],w=(0,i.useState)({}),Z=(0,m.Z)(w,2),E=Z[0],M=Z[1],b=(0,i.useState)(""),B=(0,m.Z)(b,2),F=B[0],k=B[1],a=(0,p.YB)(),q=function(u){C(u?u.target.value:"")},te=function(){var x=(0,j.Z)(d().mark(function u(){var h,A,g,D,o;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,P.qy)(K);case 3:return h=s.sent,A=h.userAddress,s.next=7,(0,P.Jj)(A);case 7:return g=s.sent,s.next=10,(0,P.qX)(g);case 10:return D=s.sent,s.next=13,(0,P.uR)(D==null?void 0:D.stashAccount);case 13:if(o=s.sent,o!==null){s.next=18;break}return R.default.error(a.formatMessage({id:"error.account.notFound"})),p.m8.push(_.Z.page.homePage),s.abrupt("return");case 18:return localStorage.setItem("magicUserAddress",A),localStorage.setItem("did",o),W(A),k(o),s.abrupt("return");case 25:return s.prev=25,s.t0=s.catch(0),R.default.error(s.t0.message),p.m8.push(_.Z.page.homePage),s.abrupt("return");case 30:case"end":return s.stop()}},u,null,[[0,25]])}));return function(){return x.apply(this,arguments)}}(),y=function(){var x=(0,j.Z)(d().mark(function u(h){var A,g,D,o;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return X(!0),A=h||n,s.prev=2,s.next=5,(0,P.du)(A,K);case 5:return g=s.sent,G(g==null?void 0:g.keystore),localStorage.setItem("magicKeystore",g==null?void 0:g.keystore),D=(0,Me._)(12),s.next=11,(0,P.Rg)(D,A);case 11:o=s.sent,Q(o==null?void 0:o.userAddress),localStorage.setItem("controllerUserAddress",o==null?void 0:o.userAddress),localStorage.setItem("controllerKeystore",o==null?void 0:o.keystore),V(3),X(!1),s.next=23;break;case 19:return s.prev=19,s.t0=s.catch(2),M({Type:"restore",Message:s.t0.message}),s.abrupt("return");case 23:case"end":return s.stop()}},u,null,[[2,19]])}));return function(h){return x.apply(this,arguments)}}(),re=function(){var x=(0,j.Z)(d().mark(function u(){var h;return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return h=(0,ve.M8)().substring(0,6),C(h),localStorage.setItem("stamp",h),g.next=5,y(h);case 5:case"end":return g.stop()}},u)}));return function(){return x.apply(this,arguments)}}();(0,i.useEffect)(function(){te()},[]);var ae=function(u){var h=u.content;return(0,e.jsx)(ye.Z,{style:{marginBottom:24},message:h,type:"error",showIcon:!0})};return(0,e.jsxs)(e.Fragment,{children:[E.Message&&(0,e.jsx)(ae,{content:E.Message}),(0,e.jsxs)(c.Z,{className:O().card,children:[(0,e.jsx)("img",{src:"/images/icon/link.svg",className:r().topIcon}),(0,e.jsx)(ue,{level:2,style:{fontWeight:"bold"},className:r().title,children:a.formatMessage({id:"account.withLink.title"})}),(0,e.jsx)("p",{className:r().description,children:a.formatMessage({id:"account.withLink.description"})}),(0,e.jsx)(H.Z,{}),(0,e.jsxs)("div",{className:r().field,children:[(0,e.jsx)(ue,{level:4,children:a.formatMessage({id:"account.withLink.subtitle"})}),(0,e.jsx)(f.Z,{size:"large",bordered:!0,disabled:!0,value:F?(0,ve.st)(F):"",placeholder:"did:ad3:"})]}),(0,e.jsxs)("div",{className:r().field,children:[(0,e.jsx)(ue,{level:4,children:a.formatMessage({id:"account.withLink.setPassword"})}),(0,e.jsxs)("div",{className:r().codeInput,children:[(0,e.jsxs)("div",{className:r().verifyForm,children:[(0,e.jsx)("span",{className:n.slice(0)&&!n.slice(1,5)&&r().highLight,children:n.slice(0,1).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:n.slice(1)&&!n.slice(2,5)&&r().highLight,children:n.slice(1,2).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:n.slice(2,3)&&!n.slice(3,5)&&r().highLight,children:n.slice(2,3).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:n.slice(3,4)&&!n.slice(4,5)&&r().highLight,children:n.slice(3,4).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:n.slice(4,5)&&!n.slice(5)&&r().highLight,children:n.slice(4,5).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:n.slice(5)&&r().highLight,children:n.slice(5).replace(/[^]/,"\u2731")})]}),(0,e.jsx)(f.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:r().verifyInput,onChange:q,disabled:$,maxLength:6,visibilityToggle:!1})]})]}),(0,e.jsxs)("div",{className:r().buttons,children:[(0,e.jsx)(S.Z,{block:!0,type:"primary",shape:"round",size:"large",className:r().button,loading:$,onClick:function(){return re()},children:a.formatMessage({id:"account.withLink.generatePassword"})}),(0,e.jsx)(S.Z,{block:!0,type:"primary",shape:"round",size:"large",className:r().button,loading:$,disabled:!n||n.length<6,onClick:function(){return y()},children:a.formatMessage({id:"common.confirm"})}),(0,e.jsx)(oe(),{text:window.location.toString(),onCopy:function(){return R.default.success(a.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(S.Z,{block:!0,shape:"round",size:"large",className:r().button,icon:(0,e.jsx)(me.Z,{}),children:a.formatMessage({id:"common.copy"})})})]})]})]})},Ae=je,We=t(71153),Ze=t(60331),$e=t(74379),xe=t(38648),Ie=t(69764),Ce=t(25592),De=t(46656),Ne=t(5556),Ue=t(22629),de=t(59749),Be=t(3548),Ee=ce.Z.Title,we=function(){setTimeout(function(){var v=sessionStorage.getItem("redirect");window.location.href=v||_.Z.page.walletPage,sessionStorage.removeItem("redirect")},10)},Pe=function(v){var K=v.magicKeystore,n=v.password,C=v.controllerUserAddress,G=v.magicUserAddress,Q=v.setStep,W=(0,p.tT)("apiWs"),V=(0,i.useState)(!1),Y=(0,m.Z)(V,2),U=Y[0],$=Y[1],X=(0,i.useState)(!1),w=(0,m.Z)(X,2),Z=w[0],E=w[1],M=(0,i.useState)(""),b=(0,m.Z)(M,2),B=b[0],F=b[1],k=n||B,a=C||localStorage.getItem("controllerUserAddress"),q=G||localStorage.getItem("magicUserAddress");a===null&&Q(1);var te=K||localStorage.getItem("magicKeystore"),y=(0,p.YB)(),re=new Ne.WU,ae=function(){return new Promise(function(){var h=(0,j.Z)(d().mark(function A(g,D){var o;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,W){s.next=3;break}return s.abrupt("return");case 3:if(!G){s.next=6;break}return s.next=6,W.query.system.account(G,function(Te){var ne=Te.data;o&&o!=="".concat(ne.free)&&xe.default.success({message:"Changes in Magic Balance",description:(0,Ue.a)(BigInt("".concat(ne.free))-BigInt(o),{withUnit:"AD3"},18)}),o="".concat(ne.free),BigInt("".concat(ne.free))>(0,de.HM)("0",18)&&g(ne.free)});case 6:s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),D(s.t0);case 11:case"end":return s.stop()}},A,null,[[0,8]])}));return function(A,g){return h.apply(this,arguments)}}())},x=function(){var u=(0,j.Z)(d().mark(function h(){var A,g,D,o;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,re.acquire();case 2:return A=s.sent,s.next=5,ae();case 5:if(g=s.sent,!(BigInt(g)<(0,de.HM)("0.0005",18))){s.next=9;break}return A(),s.abrupt("return");case 9:return s.prev=9,s.next=12,(0,P.jD)(k,te,a);case 12:return D=s.sent,console.log(D),o=D.magic.Changed[0][0],localStorage.setItem("stashUserAddress",o),we(),s.abrupt("return");case 20:s.prev=20,s.t0=s.catch(9),R.default.error(s.t0.message);case 23:case"end":return s.stop()}},h,null,[[9,20]])}));return function(){return u.apply(this,arguments)}}();return(0,i.useEffect)(function(){k===""&&E(!0),!(k===""||C==="")&&x()},[k,C]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(c.Z,{className:O().card,children:[(0,e.jsx)("img",{src:"/images/icon/transaction.svg",className:r().topIcon}),(0,e.jsx)(Ee,{level:2,style:{fontWeight:"bold"},className:r().title,children:y.formatMessage({id:"account.recoverDeposit.title"})}),(0,e.jsx)("p",{className:r().description,children:y.formatMessage({id:"account.recoverDeposit.description"})}),(0,e.jsx)(H.Z,{}),(0,e.jsx)(S.Z,{type:"link",onClick:function(){$(!0)},children:y.formatMessage({id:"account.initialDeposit.whereToBuy"})}),(0,e.jsxs)("div",{className:r().listBtn,children:[(0,e.jsxs)("div",{className:r().field,style:{flexDirection:"column"},children:[(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:10},children:[(0,e.jsx)("span",{className:r().title,children:y.formatMessage({id:"account.recoverDeposit.magicAddress"})}),(0,e.jsx)("span",{className:r().value,children:(0,e.jsx)(oe(),{text:q,onCopy:function(){return R.default.success(y.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(S.Z,{type:"link",icon:(0,e.jsx)(me.Z,{}),children:y.formatMessage({id:"common.copy"})})})})]}),(0,e.jsx)(oe(),{text:q,onCopy:function(){return R.default.success(y.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(f.Z,{size:"small",readOnly:!0,value:q})})]}),(0,e.jsxs)("div",{className:r().field,children:[(0,e.jsx)("span",{className:r().title,children:y.formatMessage({id:"account.initialDeposit.status"})}),(0,e.jsx)("span",{className:r().value,children:(0,e.jsx)(Ze.Z,{color:"processing",icon:(0,e.jsx)(Ce.Z,{spin:!0}),children:y.formatMessage({id:"account.initialDeposit.status.pending"})})})]}),(0,e.jsxs)("div",{className:r().field,children:[(0,e.jsx)("span",{className:r().title,children:y.formatMessage({id:"account.initialDeposit.minCharge"})}),(0,e.jsx)("span",{className:r().value,children:(0,e.jsx)(Be.Z,{value:(0,de.HM)("0.0005",18).toString()})})]}),(0,e.jsx)("a",{style:{textDecoration:"underline",color:"rgb(114, 114, 122)"},onClick:function(){localStorage.clear(),sessionStorage.clear(),window.location.href=_.Z.page.homePage},children:y.formatMessage({id:"account.restart"})})]})]}),(0,e.jsx)(Ie.Z,{visable:U,title:y.formatMessage({id:"account.initialDeposit.buyAD3"}),content:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:r().exchanges,children:[(0,e.jsx)("a",{href:"https://www.binance.com/",target:"_blank",rel:"noreferrer",children:(0,e.jsx)("img",{src:"/images/exchange/binance-logo.svg",alt:"BINANCE"})}),(0,e.jsx)("a",{href:"https://www.gate.io/",target:"_blank",rel:"noreferrer",children:(0,e.jsx)("img",{src:"/images/exchange/gate-io-logo.svg",alt:"GATE"})})]})}),footer:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(S.Z,{block:!0,shape:"round",size:"large",onClick:function(){$(!1)},children:y.formatMessage({id:"common.close"})})})}),(0,e.jsx)(De.Z,{visable:Z,setVisable:E,password:B,setPassword:F,func:x})]})},be=Pe,Le=function(){var v=(0,i.useState)(1),K=(0,m.Z)(v,2),n=K[0],C=K[1],G=(0,i.useState)(""),Q=(0,m.Z)(G,2),W=Q[0],V=Q[1],Y=p.m8.location.hash,U=Y.substring(1),$=(0,i.useState)(""),X=(0,m.Z)($,2),w=X[0],Z=X[1],E=(0,i.useState)(""),M=(0,m.Z)(E,2),b=M[0],B=M[1],F=(0,i.useState)(""),k=(0,m.Z)(F,2),a=k[0],q=k[1],te=(0,i.useState)(""),y=(0,m.Z)(te,2),re=y[0],ae=y[1],x=localStorage.getItem("stamp"),u=localStorage.getItem("controllerUserAddress"),h=localStorage.getItem("magicUserAddress"),A=function(){var D=(0,j.Z)(d().mark(function o(){return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:(U!==void 0||U!=="")&&(q(U.replace(/%20/g," ")),C(2));case 1:case"end":return s.stop()}},o)}));return function(){return D.apply(this,arguments)}}(),g=(0,p.md)();return(0,i.useEffect)(function(){if(g.canUser){p.m8.push(_.Z.page.walletPage);return}if(x&&V(x),!!u&&!!h){Z(u),B(h),C(3);return}A()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:O().mainBgContainer,children:(0,e.jsxs)("div",{className:O().pageContainer,children:[n===1&&(0,e.jsx)(pe,{magicMnemonic:a,setMagicMnemonic:q,setMagicUserAddress:B,setStep:C}),n===2&&(0,e.jsx)(Ae,{magicMnemonic:a,password:W,setPassword:V,setMagicKeystore:ae,setControllerUserAddress:Z,setMagicUserAddress:B,setStep:C}),n===3&&(0,e.jsx)(be,{magicKeystore:re,password:W,controllerUserAddress:w,magicUserAddress:b,setStep:C})]})})})},Oe=Le},59749:function(J,L,t){"use strict";t.d(L,{mI:function(){return ee},HM:function(){return O}});var j=t(2824),m=t(13550),z=t.n(m),d=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=_formatBalance.getDefaults(),N=S.unit,f=S.decimals;if(typeof c=="undefined")return"--- ".concat(N);var T=new BN("".concat(c)).toString().padStart(f+1,"0"),H=T.substr(0,T.length-f),se=T.substr(T.length-f,3);return I?"".concat(H,".").concat(se," ").concat(N):"".concat(H,".").concat(se)},i=function(c){if(!c)return new BN(0);var I=_formatBalance.getDefaults(),S=I.decimals,N="".concat(c).split("."),f=_slicedToArray(N,2),T=f[0],H=f[1],se=H===void 0?"0":H,R="".concat(T).concat(se.padEnd(S,"0"));return new BN(R)},p=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return c?c.startsWith("0x")?c:"0x".concat(c):"0x"};function ee(l,c){if(!l||(typeof l!="string"&&(l=l.toString()),l==="0"))return"0";if(l.length<=c){var I=l.padStart(c,"0"),S=I.search(/([0]+)$/);return S>-1&&(I=I.substring(0,S)),I.length>0?I="0."+I:I="0",I}var N=l.substring(0,l.length-c),f=l.substring(l.length-c),T=f.search(/([0]+)$/);return T>-1&&(f=f.substring(0,T)),f.length===0?N:N+"."+f}function O(l,c){if(!l||typeof l!="string")return BigInt(0);if(l.indexOf(".")===-1)return BigInt(l.padEnd(l.length+c,"0"));var I=l.split("."),S=(0,j.Z)(I,2),N=S[0],f=S[1];return N.length===1&&N==="0"&&(N=""),f.length<c?BigInt(N+f.padEnd(c,"0")):BigInt(N+f.substring(0,c))}}}]);
