(self.webpackChunkparami_wallet=self.webpackChunkparami_wallet||[]).push([[817],{31639:function(le){le.exports={did:"did___1Wse3",unit:"unit___UR_Yf"}},25997:function(le){le.exports={field:"field___34c8I",topIcon:"topIcon___1Umsj",title:"title___3JnK1",listBtn:"listBtn___S1ntX",value:"value___1dF_X",description:"description___3K0HO",buttons:"buttons___TtTnA",button:"button___3Gzcf",codeInput:"codeInput___2-Ztp",verifyForm:"verifyForm___lMSHe",highLight:"highLight___1EHuf",verifyInput:"verifyInput___EZlWA",exchanges:"exchanges___2OYe5",socialButtons:"socialButtons___64yer"}},3548:function(le,se,s){"use strict";var T=s(67294),y=s(31639),ae=s.n(y),c=s(96534),d=s(85893),re=function(q){var o=q.value;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:ae().did,children:[(0,c.MP)(o),(0,d.jsx)("span",{className:ae().unit,children:"\xA0AD3"})]})})};se.Z=re},57212:function(le,se,s){"use strict";s.r(se),s.d(se,{default:function(){return us}});var T=s(3182),y=s(2824),ae=s(94043),c=s.n(ae),d=s(67294),re=s(55909),r=s.n(re),q=s(20228),o=s(11382),h=s(58024),p=s(39144),k=s(57663),l=s(71577),S=s(48736),f=s(27049),F=s(402),b=s(59289),m=s(43581),_=s(25997),a=s.n(_),Ie=s(17728),ie=s.n(Ie),oe=s(51625),e=s(85893),Fe=b.Z.Title,ze=function(j){var A=j.setStep,g=j.setQsTicket,G=j.minimal,C=(0,d.useState)(!1),N=(0,y.Z)(C,2),I=N[0],W=N[1],M=(0,m.YB)(),u=function(){var E=(0,T.Z)(c().mark(function w(z){return c().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:W(!0),g(z),A(2),W(!1);case 4:case"end":return L.stop()}},w)}));return function(z){return E.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[!G&&(0,e.jsx)(o.Z,{tip:M.formatMessage({id:"common.loading"}),spinning:I,wrapperClassName:r().pageContainer,children:(0,e.jsxs)(p.Z,{className:r().card,children:[(0,e.jsx)("img",{src:"/images/icon/option.svg",className:a().topIcon}),(0,e.jsx)(Fe,{level:2,style:{fontWeight:"bold",textAlign:"center"},className:a().title,children:M.formatMessage({id:"account.quicksign.title"})}),(0,e.jsx)("p",{className:a().description,children:M.formatMessage({id:"account.quicksign.description"})}),(0,e.jsx)(f.Z,{}),(0,e.jsx)(ie(),{dataOnauth:u,botName:"paramiofficialbot"}),(0,e.jsx)(f.Z,{children:M.formatMessage({id:"index.or"})}),(0,e.jsxs)("div",{className:a().buttons,children:[(0,e.jsx)(l.Z,{block:!0,type:"primary",shape:"round",size:"large",className:a().button,onClick:function(){return A(2)},children:M.formatMessage({id:"account.quicksign.manual"})}),(0,e.jsx)(l.Z,{block:!0,type:"link",size:"large",onClick:function(){return m.m8.push(oe.Z.page.homePage)},children:M.formatMessage({id:"common.cancel"})}),(0,e.jsx)("small",{style:{textAlign:"center",marginTop:20,color:"rgb(114, 114, 122)"},children:M.formatMessage({id:"account.beforeStart.licDesc"})})]})]})}),G&&(0,e.jsxs)(o.Z,{tip:M.formatMessage({id:"common.loading"}),spinning:I,children:[(0,e.jsx)(ie(),{dataOnauth:u,botName:"paramiofficialbot"}),(0,e.jsx)("small",{style:{textAlign:"center",marginTop:20,color:"rgb(114, 114, 122)"},children:M.formatMessage({id:"account.beforeStart.licDesc"})})]})]})},ke=ze,ms=s(47673),ve=s(32787),gs=s(17462),Ne=s(76772),fs=s(34792),te=s(48086),De=s(46312),he=s(1096),Te=s(96534),Ge=b.Z.Title,He=function(j){var A=j.setStep,g=j.password,G=j.setPassword,C=j.setControllerUserAddress,N=j.setControllerKeystore,I=(0,d.useState)(!1),W=(0,y.Z)(I,2),M=W[0],u=W[1],E=(0,d.useState)({}),w=(0,y.Z)(E,2),z=w[0],Y=w[1],L=(0,m.YB)(),V=function(){var D=(0,T.Z)(c().mark(function K(U){var ue,R;return c().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.prev=0,$.next=3,(0,De._)(12);case 3:return ue=$.sent,$.next=6,(0,he.Rg)(ue,U);case 6:R=$.sent,C(R.userAddress),N(R.keystore),localStorage.setItem("controllerUserAddress",R.userAddress),localStorage.setItem("controllerKeystore",R.keystore),$.next=17;break;case 13:return $.prev=13,$.t0=$.catch(0),te.default.error($.t0.message),$.abrupt("return");case 17:case"end":return $.stop()}},K,null,[[0,13]])}));return function(U){return D.apply(this,arguments)}}(),ee=function(){var D=(0,T.Z)(c().mark(function K(){var U;return c().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return U=(0,Te.M8)().substring(0,6),G(U),localStorage.setItem("stamp",U),R.next=5,V(U);case 5:case"end":return R.stop()}},K)}));return function(){return D.apply(this,arguments)}}();(0,d.useEffect)(function(){ee(),A(5)},[]);var ce=function(K){G(K?K.target.value:"")},B=function(){if(u(!0),!g||g.length<6){Y({Type:"empty",Message:L.formatMessage({id:"error.password.empty"})}),u(!1);return}A(4)},J=function(K){var U=K.content;return(0,e.jsx)(Ne.Z,{style:{marginBottom:24},message:U,type:"error",showIcon:!0})};return(0,e.jsxs)(e.Fragment,{children:[z.Message&&(0,e.jsx)(J,{content:z.Message}),(0,e.jsxs)(p.Z,{className:r().card,children:[(0,e.jsx)("img",{src:"/images/icon/password.svg",className:a().topIcon}),(0,e.jsx)(Ge,{level:2,style:{fontWeight:"bold",textAlign:"center"},className:a().title,children:L.formatMessage({id:"account.setPassword.title"})}),(0,e.jsx)("p",{className:a().description,children:L.formatMessage({id:"account.setPassword.description"})}),(0,e.jsx)(f.Z,{}),(0,e.jsxs)("div",{className:a().codeInput,children:[(0,e.jsxs)("div",{className:a().verifyForm,children:[(0,e.jsx)("span",{className:g.slice(0)&&!g.slice(1,5)&&a().highLight,children:g.slice(0,1).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:g.slice(1)&&!g.slice(2,5)&&a().highLight,children:g.slice(1,2).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:g.slice(2,3)&&!g.slice(3,5)&&a().highLight,children:g.slice(2,3).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:g.slice(3,4)&&!g.slice(4,5)&&a().highLight,children:g.slice(3,4).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:g.slice(4,5)&&!g.slice(5)&&a().highLight,children:g.slice(4,5).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:g.slice(5)&&a().highLight,children:g.slice(5).replace(/[^]/,"\u2731")})]}),(0,e.jsx)(ve.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:a().verifyInput,onChange:ce,disabled:M,maxLength:6,visibilityToggle:!1})]}),(0,e.jsxs)("div",{className:a().buttons,children:[(0,e.jsx)(l.Z,{block:!0,type:"primary",shape:"round",size:"large",className:a().button,onClick:function(){return B()},disabled:!g||g.length<6,loading:M,children:L.formatMessage({id:"common.confirm"})}),(0,e.jsx)("span",{children:L.formatMessage({id:"account.alreadyCreate"})}),(0,e.jsx)("a",{style:{textDecoration:"underline",color:"rgb(114, 114, 122)"},onClick:function(){return m.m8.push(oe.Z.page.recoverPage)},children:L.formatMessage({id:"account.recoverAccount"})})]})]})]})},Ee=He,Qe=b.Z.Title,Ye=function(j){var A=j.setStep,g=j.password,G=(0,d.useState)(!1),C=(0,y.Z)(G,2),N=C[0],I=C[1],W=(0,d.useState)(""),M=(0,y.Z)(W,2),u=M[0],E=M[1],w=(0,d.useState)({}),z=(0,y.Z)(w,2),Y=z[0],L=z[1],V=(0,m.YB)(),ee=function(D){E(D?D.target.value:"")},ce=function(){var J=(0,T.Z)(c().mark(function D(){return c().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(I(!0),u===g){U.next=5;break}return L({Type:"not match",Message:V.formatMessage({id:"error.password.passwordNotMatch"})}),I(!1),U.abrupt("return");case 5:A(5);case 6:case"end":return U.stop()}},D)}));return function(){return J.apply(this,arguments)}}(),B=function(D){var K=D.content;return(0,e.jsx)(Ne.Z,{style:{marginBottom:24,textAlign:"center"},message:K,type:"error",showIcon:!0})};return(0,e.jsxs)(e.Fragment,{children:[Y.Message&&(0,e.jsx)(B,{content:Y.Message}),(0,e.jsxs)(p.Z,{className:r().card,children:[(0,e.jsx)("img",{src:"/images/icon/password.svg",className:a().topIcon}),(0,e.jsx)(Qe,{level:2,style:{fontWeight:"bold"},className:a().title,children:V.formatMessage({id:"account.confirmPassword.title"})}),(0,e.jsx)("p",{className:a().description,children:V.formatMessage({id:"account.confirmPassword.description"})}),(0,e.jsx)(f.Z,{}),(0,e.jsxs)("div",{className:a().codeInput,children:[(0,e.jsxs)("div",{className:a().verifyForm,children:[(0,e.jsx)("span",{className:u.slice(0)&&!u.slice(1,5)&&a().highLight,children:u.slice(0,1).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:u.slice(1)&&!u.slice(2,5)&&a().highLight,children:u.slice(1,2).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:u.slice(2,3)&&!u.slice(3,5)&&a().highLight,children:u.slice(2,3).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:u.slice(3,4)&&!u.slice(4,5)&&a().highLight,children:u.slice(3,4).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:u.slice(4,5)&&!u.slice(5)&&a().highLight,children:u.slice(4,5).replace(/[^]/,"\u2731")}),(0,e.jsx)("span",{className:u.slice(5)&&a().highLight,children:u.slice(5).replace(/[^]/,"\u2731")})]}),(0,e.jsx)(ve.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:a().verifyInput,onChange:ee,disabled:N,maxLength:6,visibilityToggle:!1})]}),(0,e.jsxs)("div",{className:a().buttons,children:[(0,e.jsx)(l.Z,{block:!0,type:"primary",shape:"round",size:"large",className:a().button,onClick:function(){return ce()},disabled:!u||u.length<6,loading:N,children:V.formatMessage({id:"common.confirm"})}),(0,e.jsx)("span",{children:V.formatMessage({id:"account.alreadyCreate"})}),(0,e.jsx)("a",{style:{textDecoration:"underline",color:"rgb(114, 114, 122)"},onClick:function(){return m.m8.push(oe.Z.page.recoverPage)},children:V.formatMessage({id:"account.recoverAccount"})})]})]})]})},Le=Ye,Ve=s(74855),de=s.n(Ve),xe=s(99165),Xe=b.Z.Title,Je=function(j){var A=j.setStep,g=j.minimal,G=j.magicMnemonic,C=j.setMagicLink,N=j.qsTicket,I=(0,d.useState)(!1),W=(0,y.Z)(I,2),M=W[0],u=W[1],E="".concat(window.location.origin,"/recover/link/").concat(encodeURI(G)),w=(0,m.YB)(),z=function(){var Y=(0,T.Z)(c().mark(function L(){var V,ee;return c().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(u(!0),V="".concat(w.formatMessage({id:"account.magicLink.sendMessage"},{link:E})),ee={title:"Para Metaverse Identity",text:V,url:E},u(!1),!(navigator.canShare&&navigator.canShare(ee))){B.next=14;break}return B.prev=5,B.next=8,navigator.share(ee);case 8:B.next=14;break;case 10:return B.prev=10,B.t0=B.catch(5),te.default.error(w.formatMessage({id:"error.share.failed"})),B.abrupt("return");case 14:A(3);case 15:case"end":return B.stop()}},L,null,[[5,10]])}));return function(){return Y.apply(this,arguments)}}();return(0,d.useEffect)(function(){g&&(C&&C(E),A(3))},[]),(0,e.jsx)(e.Fragment,{children:!g&&(0,e.jsxs)(p.Z,{className:r().card,children:[(0,e.jsx)("img",{src:"/images/icon/link.svg",className:a().topIcon}),(0,e.jsx)(Xe,{level:2,style:{fontWeight:"bold",textAlign:"center"},className:a().title,children:w.formatMessage({id:"account.magicLink.title"})}),(0,e.jsx)("p",{className:a().description,children:w.formatMessage({id:"account.magicLink.description"})}),(0,e.jsx)(f.Z,{}),(0,e.jsx)(de(),{text:E,onCopy:function(){return te.default.success(w.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(ve.Z,{size:"large",bordered:!0,value:E,readOnly:!0})}),(0,e.jsxs)("div",{className:a().buttons,children:[(0,e.jsx)(de(),{text:E,onCopy:function(){return te.default.success(w.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(l.Z,{block:!0,shape:"round",size:"large",className:a().button,icon:(0,e.jsx)(xe.Z,{}),children:w.formatMessage({id:"account.magicLink.copyMagicLink"})})}),(0,e.jsx)(l.Z,{block:!0,type:"primary",shape:"round",size:"large",className:a().button,onClick:function(){return z()},loading:M,children:w.formatMessage({id:"common.confirm"})}),(0,e.jsx)("span",{children:w.formatMessage({id:"account.alreadyCreate"})}),(0,e.jsx)("a",{style:{textDecoration:"underline",color:"rgb(114, 114, 122)"},onClick:function(){return m.m8.push(oe.Z.page.recoverPage)},children:w.formatMessage({id:"account.recoverAccount"})})]})]})})},Be=Je,ps=s(71153),qe=s(60331),vs=s(74379),ye=s(38648),_e=s(69764),Ue=s(7085),es=s(25592),ss=s(46656),Ae=s(45843),as=s(3548),rs=s(47193),ts=s(99141),ns=s(5556),Oe=s(59749),is=s(22629),ls=b.Z.Title,we=function(){setTimeout(function(){var j=sessionStorage.getItem("redirect");window.location.href=j||oe.Z.page.walletPage,sessionStorage.removeItem("redirect")},10)},os=function(j){var A=j.password,g=j.qsTicket,G=j.minimal,C=j.magicLink,N=j.magicUserAddress,I=j.controllerUserAddress,W=j.controllerKeystore,M=(0,m.tT)("apiWs"),u=(0,d.useState)(!1),E=(0,y.Z)(u,2),w=E[0],z=E[1],Y=(0,d.useState)(!1),L=(0,y.Z)(Y,2),V=L[0],ee=L[1],ce=(0,d.useState)(""),B=(0,y.Z)(ce,2),J=B[0],D=B[1],K=(0,d.useState)(!1),U=(0,y.Z)(K,2),ue=U[0],R=U[1],ge=(0,d.useState)(!0),$=(0,y.Z)(ge,2),fe=$[0],je=$[1],Z=(0,m.YB)(),Pe=new ns.WU,Se=function(){var x=(0,T.Z)(c().mark(function O(v){var H,t,Q;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return R(!0),n.prev=1,n.next=4,(0,Ae.l0)({ticket:v,site:"Telegram",wallet:I});case 4:if(H=n.sent,t=H.response,Q=H.data,(t==null?void 0:t.status)!==200){n.next=10;break}return ye.default.success({message:"Airdrop Success"}),n.abrupt("return",Q);case 10:if((t==null?void 0:t.status)!==401){n.next=14;break}return ye.default.error({message:"Ticket Error",description:"There are some problems with your Telegram. Please try to deposit manually.",duration:null}),R(!1),n.abrupt("return");case 14:if((t==null?void 0:t.status)!==409){n.next=18;break}return ye.default.error({message:"Airdroped",description:"Your Telegram account has participated in airdrop. Please try to deposit manually.",duration:null}),R(!1),n.abrupt("return");case 18:if((t==null?void 0:t.status)!==400){n.next=22;break}return ye.default.error({message:"Got an error",description:"Something went wrong, please try again latar.",duration:null}),R(!1),n.abrupt("return");case 22:n.next=28;break;case 24:n.prev=24,n.t0=n.catch(1),te.default.error(n.t0.message),R(!1);case 28:case"end":return n.stop()}},O,null,[[1,24]])}));return function(v){return x.apply(this,arguments)}}(),Me=function(){var x=(0,T.Z)(c().mark(function O(v,H){var t,Q,ne,n;return c().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,Ae.oB)({site:"Telegram",wallet:I});case 2:if(t=P.sent,Q=t.response,(Q==null?void 0:Q.status)!==204){P.next=18;break}if(P.prev=5,!(v!=null&&v.nickname&&v!==null&&v!==void 0&&v.avatar)){P.next=12;break}return P.next=9,(0,Ae.nH)(v==null?void 0:v.avatar);case 9:ne=P.sent,n=ne.data,(0,rs.Z)(URL.createObjectURL(n),"","",H).then(function(){var i=(0,T.Z)(c().mark(function Ke(ds){var Re,$e;return c().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return Re=ds.substring(22),pe.next=3,(0,ts.U)((0,Te.Mi)(Re,"image/png"));case 3:return $e=pe.sent,pe.next=6,(0,he.dr)(v==null?void 0:v.nickname,"ipfs://".concat($e.Hash),A,W);case 6:case"end":return pe.stop()}},Ke)}));return function(Ke){return i.apply(this,arguments)}}());case 12:P.next=17;break;case 14:P.prev=14,P.t0=P.catch(5),te.default.error(P.t0.message);case 17:je(!1);case 18:case 19:case"end":return P.stop()}},O,null,[[5,14]])}));return function(v,H){return x.apply(this,arguments)}}(),Ze=function(){return new Promise(function(){var O=(0,T.Z)(c().mark(function v(H,t){var Q;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,M){n.next=3;break}return n.abrupt("return");case 3:if(!I){n.next=6;break}return n.next=6,M.query.system.account(I,function(X){var P=X.data;Q&&Q!=="".concat(P.free)&&ye.default.success({message:"Changes in Gas Balance",description:(0,is.a)(BigInt("".concat(P.free))-BigInt(Q),{withUnit:"AD3"},18)}),Q="".concat(P.free),BigInt("".concat(P.free))>(0,Oe.HM)("0",18)&&H(P.free)});case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t(n.t0);case 11:case"end":return n.stop()}},v,null,[[0,8]])}));return function(v,H){return O.apply(this,arguments)}}())},Ce=function(){var x=(0,T.Z)(c().mark(function O(v){var H,t,Q,ne,n,X;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Pe.acquire();case 2:return H=i.sent,i.next=5,Ze();case 5:if(t=i.sent,!(BigInt(t)<(0,Oe.HM)("1",18))){i.next=9;break}return H(),i.abrupt("return");case 9:return i.prev=9,i.next=12,(0,he.Xe)(A,W,N,"0.01");case 12:Q=i.sent,ne=Q.magic.Created[0][0],localStorage.setItem("stashUserAddress",ne),i.next=20;break;case 17:i.prev=17,i.t0=i.catch(9),console.log(i.t0.message);case 20:return i.prev=20,i.next=23,(0,he.JD)(I,A,W);case 23:if(n=i.sent,X=n.did.Assigned[0][0],localStorage.setItem("did",X),!G){i.next=30;break}return i.next=29,Me(v,X);case 29:return i.abrupt("return");case 30:if(!g){i.next=35;break}return i.next=33,Me(v,X);case 33:return we(),i.abrupt("return");case 35:return we(),i.abrupt("return");case 39:i.prev=39,i.t1=i.catch(20),console.log(i.t1.message);case 42:H();case 43:case"end":return i.stop()}},O,null,[[9,17],[20,39]])}));return function(v){return x.apply(this,arguments)}}(),be=function(){var x=(0,T.Z)(c().mark(function O(){var v;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se(g);case 3:return v=t.sent,t.abrupt("return",v);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},O,null,[[0,7]])}));return function(){return x.apply(this,arguments)}}();return(0,d.useEffect)(function(){if(!(A===""||I===""||W==="")){if(G||g){be().then(function(x){Ce(x)});return}Ce()}},[A,I,W]),(0,e.jsx)(e.Fragment,{children:G?(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[fe&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Z,{tip:Z.formatMessage({id:"account.loading.creating"}),size:"large",indicator:(0,e.jsx)(Ue.Z,{spin:!0}),spinning:fe}),(0,e.jsx)("a",{style:{textDecoration:"underline",color:"rgb(114, 114, 122)",marginTop:20},onClick:function(){localStorage.clear(),sessionStorage.clear(),window.location.href=window.location.href},children:Z.formatMessage({id:"account.restart"})})]}),!fe&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:a().description,children:Z.formatMessage({id:"account.magicLink.description"})}),(0,e.jsx)(f.Z,{}),(0,e.jsx)(de(),{text:C,onCopy:function(){te.default.success(Z.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(ve.Z,{size:"large",bordered:!0,value:C,readOnly:!0})}),(0,e.jsxs)("div",{className:a().buttons,children:[(0,e.jsx)(de(),{text:C,onCopy:function(){return te.default.success(Z.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(l.Z,{block:!0,shape:"round",size:"large",className:a().button,icon:(0,e.jsx)(xe.Z,{}),children:Z.formatMessage({id:"account.magicLink.copyMagicLink"})})}),(0,e.jsx)(l.Z,{block:!0,type:"primary",shape:"round",size:"large",className:a().button,onClick:(0,T.Z)(c().mark(function x(){var O,v;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(O="".concat(Z.formatMessage({id:"account.magicLink.sendMessage"},{link:C})),v={title:"Para Metaverse Identity",text:O,url:C},!(navigator.canShare&&navigator.canShare(v))){t.next=11;break}return t.prev=3,t.next=6,navigator.share(v);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:we();case 12:case"end":return t.stop()}},x,null,[[3,8]])})),children:Z.formatMessage({id:"common.confirm"})})]})]})]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Z,{size:"large",tip:Z.formatMessage({id:"account.loading.creating"}),indicator:(0,e.jsx)(Ue.Z,{spin:!0}),spinning:ue,className:r().mainContainer,children:(0,e.jsxs)(p.Z,{className:r().card,children:[(0,e.jsx)("img",{src:"/images/icon/transaction.svg",className:a().topIcon}),(0,e.jsx)(ls,{level:2,style:{fontWeight:"bold",textAlign:"center"},className:a().title,children:Z.formatMessage({id:"account.initialDeposit.title"})}),(0,e.jsx)("p",{className:a().description,children:Z.formatMessage({id:"account.initialDeposit.description"})}),(0,e.jsx)(f.Z,{}),(0,e.jsx)(l.Z,{type:"link",onClick:function(){z(!0)},children:Z.formatMessage({id:"account.initialDeposit.whereToBuy"})}),(0,e.jsxs)("div",{className:a().listBtn,children:[(0,e.jsxs)("div",{className:a().field,style:{flexDirection:"column"},children:[(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:10},children:[(0,e.jsx)("span",{className:a().title,children:Z.formatMessage({id:"account.initialDeposit.chargeAddress"})}),(0,e.jsx)("span",{className:a().value,children:(0,e.jsx)(de(),{text:I,onCopy:function(){return te.default.success(Z.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(l.Z,{type:"link",icon:(0,e.jsx)(xe.Z,{}),children:Z.formatMessage({id:"common.copy"})})})})]}),(0,e.jsx)(de(),{text:I,onCopy:function(){return te.default.success(Z.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(ve.Z,{size:"small",style:{backgroundColor:"#fff"},readOnly:!0,value:I})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("span",{className:a().title,children:Z.formatMessage({id:"account.initialDeposit.status"})}),(0,e.jsx)("span",{className:a().value,children:(0,e.jsx)(qe.Z,{color:"processing",icon:(0,e.jsx)(es.Z,{spin:!0}),children:Z.formatMessage({id:"account.initialDeposit.status.pending"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("span",{className:a().title,children:Z.formatMessage({id:"account.initialDeposit.minCharge"})}),(0,e.jsx)("span",{className:a().value,children:(0,e.jsx)(as.Z,{value:oe.Z.const.minimalCharge})})]})]}),(0,e.jsx)("a",{style:{textDecoration:"underline",color:"rgb(114, 114, 122)"},onClick:function(){localStorage.clear(),sessionStorage.clear(),window.location.href=oe.Z.page.homePage},children:Z.formatMessage({id:"account.restart"})}),(0,e.jsxs)("div",{className:a().socialButtons,children:[(0,e.jsx)(f.Z,{children:Z.formatMessage({id:"account.beforeStart.faucet"})}),(0,e.jsx)(ie(),{dataOnauth:Se,botName:"paramiofficialbot"})]})]})}),(0,e.jsx)(_e.Z,{visable:w,title:Z.formatMessage({id:"account.initialDeposit.buyAD3"}),content:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:a().exchanges,children:[(0,e.jsx)("a",{href:"https://www.binance.com/",target:"_blank",rel:"noreferrer",children:(0,e.jsx)("img",{src:"/images/exchange/binance-logo.svg",alt:"BINANCE"})}),(0,e.jsx)("a",{href:"https://www.gate.io/",target:"_blank",rel:"noreferrer",children:(0,e.jsx)("img",{src:"/images/exchange/gate-io-logo.svg",alt:"GATE"})})]})}),footer:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(l.Z,{block:!0,shape:"round",size:"large",onClick:function(){z(!1)},children:Z.formatMessage({id:"common.close"})})})}),(0,e.jsx)(ss.Z,{visable:V,setVisable:ee,password:J,setPassword:D})]})})},We=os,cs=function(j){var A=j.minimal,g=(0,d.useState)(1),G=(0,y.Z)(g,2),C=G[0],N=G[1],I=(0,d.useState)(""),W=(0,y.Z)(I,2),M=W[0],u=W[1],E=(0,d.useState)(),w=(0,y.Z)(E,2),z=w[0],Y=w[1],L=(0,d.useState)(""),V=(0,y.Z)(L,2),ee=V[0],ce=V[1],B=(0,d.useState)(""),J=(0,y.Z)(B,2),D=J[0],K=J[1],U=(0,d.useState)(""),ue=(0,y.Z)(U,2),R=ue[0],ge=ue[1],$=(0,d.useState)(""),fe=(0,y.Z)($,2),je=fe[0],Z=fe[1],Pe=(0,d.useState)(""),Se=(0,y.Z)(Pe,2),Me=Se[0],Ze=Se[1],Ce=localStorage.getItem("stamp"),be=localStorage.getItem("controllerUserAddress"),x=localStorage.getItem("controllerKeystore"),O=localStorage.getItem("magicUserAddress"),v=localStorage.getItem("did"),H=function(){var Q=(0,T.Z)(c().mark(function ne(){var n,X;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,De._)(12);case 2:return n=i.sent,Z(n),i.next=6,(0,he.Rg)(n);case 6:X=i.sent,Ze(X==null?void 0:X.userAddress),localStorage.setItem("magicUserAddress",X==null?void 0:X.userAddress);case 9:case"end":return i.stop()}},ne)}));return function(){return Q.apply(this,arguments)}}(),t=(0,m.md)();return(0,d.useEffect)(function(){if(t.canUser){m.m8.push(oe.Z.page.walletPage);return}if((O===null||je==="")&&H(),Ce&&u(Ce),!!be&&!!x&&!!O){K(be),ge(x),Ze(O),N(5);return}if(A&&!!be&&!!x&&!v){localStorage.clear(),N(1);return}},[]),(0,e.jsxs)(e.Fragment,{children:[A&&(0,e.jsxs)(e.Fragment,{children:[C===1&&(0,e.jsx)(ke,{setStep:N,setQsTicket:Y,minimal:A}),C===2&&(0,e.jsx)(Be,{setStep:N,magicMnemonic:je,minimal:A,setMagicLink:ce,qsTicket:z}),C===3&&(0,e.jsx)(Ee,{setStep:N,password:M,setPassword:u,setControllerUserAddress:K,setControllerKeystore:ge}),C===4&&(0,e.jsx)(Le,{setStep:N,password:M}),C===5&&(0,e.jsx)(We,{password:M,minimal:A,magicUserAddress:Me,qsTicket:z,magicLink:ee,controllerUserAddress:D,controllerKeystore:R})]}),!A&&(0,e.jsx)("div",{className:r().mainBgContainer,children:(0,e.jsxs)("div",{className:r().pageContainer,children:[C===1&&(0,e.jsx)(ke,{setStep:N,setQsTicket:Y}),C===2&&(0,e.jsx)(Be,{setStep:N,qsTicket:z,magicMnemonic:je}),C===3&&(0,e.jsx)(Ee,{setStep:N,password:M,setPassword:u,setControllerUserAddress:K,setControllerKeystore:ge}),C===4&&(0,e.jsx)(Le,{setStep:N,password:M}),C===5&&(0,e.jsx)(We,{password:M,magicUserAddress:Me,controllerUserAddress:D,controllerKeystore:R,qsTicket:z})]})})]})},us=cs},99141:function(le,se,s){"use strict";s.d(se,{U:function(){return o},g:function(){return p}});var T=s(8870),y=s(3182),ae=s(94043),c=s.n(ae),d=s(51625),re=s(55347),r=s(1096),q=new re.ZP({type:"sr25519"});function o(k,l){return h.apply(this,arguments)}function h(){return h=(0,y.Z)(c().mark(function k(l,S){var f,F;return c().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return f=new FormData,f.append("file",l),m.next=4,fetch(d.Z.ipfs.upload,(0,T.Z)({method:"POST",body:f},S||{}));case 4:return F=m.sent,m.next=7,F.json();case 7:return m.abrupt("return",m.sent);case 8:case"end":return m.stop()}},k)})),h.apply(this,arguments)}var p=function(){var k=(0,y.Z)(c().mark(function l(S,f,F){var b,m,_,a;return c().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(b=(0,r.Gh)(f,F),!(b==null||!b)){ie.next=3;break}throw new Error("Wrong password");case 3:return m=q.createFromUri(b),_=window.apiWs.tx.did.setAvatar(S),a=window.apiWs.tx.magic.codo(_),ie.next=8,a.signAndSend(m,r.XQ);case 8:case"end":return ie.stop()}},l)}));return function(S,f,F){return k.apply(this,arguments)}}()},47193:function(le,se,s){"use strict";var T=s(55121),y=640,ae=640,c=function(r,q,o,h,p,k){if(r!==null){r.save();var l=2*p,S=o+p,f=h+p,F=r.createLinearGradient(0,640,640,0);F.addColorStop(0,"#FE2105"),F.addColorStop(1,"#96E9EA"),r.fillStyle=F,r.beginPath(),r.rect(0,0,640,640),r.fill(),r.save(),r.restore(),r.beginPath(),r.arc(S,f,p-40,0,2*Math.PI),r.clip(),r.drawImage(q,o+40,h+40,l-80,l-80),r.restore();var b=Math.PI/9;r.lineWidth=8;for(var m=0;m<180;m+=1)r.save(),r.beginPath(),k[m]==="0"?r.strokeStyle="transparent":r.strokeStyle="#fff",r.arc(S,f,p+4,b,b+10*Math.PI/9/180,!1),b+=10*Math.PI/9/180,(m+1)%45==0&&(b+=2*Math.PI/9),r.stroke();var _=Math.PI/6;r.lineWidth=6;for(var a=0;a<180;a+=1)r.save(),r.beginPath(),k[a]==="0"?r.strokeStyle="transparent":r.strokeStyle="#fff",r.arc(S,f,p+22,_,_+2*Math.PI/3/180,!1),_+=2*Math.PI/3/180,(a+1)%45==0&&(_+=2*Math.PI/6),r.stroke()}},d=function(r,q,o,h,p,k){var l=document.createElement("canvas");l.width=y,l.height=ae;var S=l.getContext("2d"),f=new Image;f.src=o;var F=document.createElement("canvas"),b=F.getContext("2d");if(b!==null){var m=(0,T.BP)(k);b.clearRect(0,0,y,ae),f.onload=function(){if(m!==void 0){c(S,f,0,0,320,m);var _=l.toDataURL("image/png");r(_)}}}};se.Z=function(re,r,q,o){return new Promise(function(h,p){d(h,p,re,r,q,o)})}},59749:function(le,se,s){"use strict";s.d(se,{mI:function(){return r},HM:function(){return q}});var T=s(2824),y=s(13550),ae=s.n(y),c=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=_formatBalance.getDefaults(),l=k.unit,S=k.decimals;if(typeof h=="undefined")return"--- ".concat(l);var f=new BN("".concat(h)).toString().padStart(S+1,"0"),F=f.substr(0,f.length-S),b=f.substr(f.length-S,3);return p?"".concat(F,".").concat(b," ").concat(l):"".concat(F,".").concat(b)},d=function(h){if(!h)return new BN(0);var p=_formatBalance.getDefaults(),k=p.decimals,l="".concat(h).split("."),S=_slicedToArray(l,2),f=S[0],F=S[1],b=F===void 0?"0":F,m="".concat(f).concat(b.padEnd(k,"0"));return new BN(m)},re=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return h?h.startsWith("0x")?h:"0x".concat(h):"0x"};function r(o,h){if(!o||(typeof o!="string"&&(o=o.toString()),o==="0"))return"0";if(o.length<=h){var p=o.padStart(h,"0"),k=p.search(/([0]+)$/);return k>-1&&(p=p.substring(0,k)),p.length>0?p="0."+p:p="0",p}var l=o.substring(0,o.length-h),S=o.substring(o.length-h),f=S.search(/([0]+)$/);return f>-1&&(S=S.substring(0,f)),S.length===0?l:l+"."+S}function q(o,h){if(!o||typeof o!="string")return BigInt(0);if(o.indexOf(".")===-1)return BigInt(o.padEnd(o.length+h,"0"));var p=o.split("."),k=(0,T.Z)(p,2),l=k[0],S=k[1];return l.length===1&&l==="0"&&(l=""),S.length<h?BigInt(l+S.padEnd(h,"0")):BigInt(l+S.substring(0,h))}}}]);
