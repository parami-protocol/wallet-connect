var Q=Object.assign;var S=(j,P,e)=>new Promise((J,M)=>{var k=l=>{try{$(e.next(l))}catch(g){M(g)}},w=l=>{try{$(e.throw(l))}catch(g){M(g)}},$=l=>l.done?J(l.value):Promise.resolve(l.value).then(k,w);$((e=e.apply(j,P)).next())});(self.webpackChunkparami_wallet=self.webpackChunkparami_wallet||[]).push([[796],{81773:function(j,P,e){"use strict";e.d(P,{vK:function(){return h},$y:function(){return X},R0:function(){return A}});var J=e(20613),M=e(6221);function k(n){return new Promise(t=>{document.readyState==="complete"?t(n()):window.addEventListener("load",()=>t(n()))})}const w=window;w.injectedWeb3=w.injectedWeb3||{};function $(){return Object.keys(w.injectedWeb3).length!==0}function l(n){throw new Error(`${n}: web3Enable(originName) needs to be called before ${n}`)}function g(n,t,s){return t.map(({address:r,genesisHash:c,name:f,type:i})=>({address:r.length===42?r:(0,J.m)((0,M.m)(r),s),meta:{genesisHash:c,name:f,source:n},type:i}))}let W=$(),y=null;function V(n){return Promise.all(Object.entries(w.injectedWeb3).map(([t,{enable:s,version:r}])=>Promise.all([Promise.resolve({name:t,version:r}),s(n).catch(c=>{console.error(`Error initializing ${t}: ${c.message}`)})])))}function X(n,t=[]){if(!n)throw new Error("You must pass a name for your app to the web3Enable function");const s=t.length?Promise.all(t.map(r=>r().catch(()=>!1))):Promise.resolve([!0]);return y=k(()=>s.then(()=>V(n).then(r=>r.filter(c=>!!c[1]).map(([c,f])=>(f.accounts.subscribe||(f.accounts.subscribe=i=>(f.accounts.get().then(i).catch(console.error),()=>{})),Q(Q({},c),f)))).catch(()=>[]).then(r=>{const c=r.map(({name:f,version:i})=>`${f}/${i}`);return W=$(),console.log(`web3Enable: Enabled ${r.length} extension${r.length!==1?"s":""}: ${c.join(", ")}`),r}))),y}function h(){return S(this,arguments,function*({accountType:n,ss58Format:t}={}){if(!y)return l("web3Accounts");const s=[],r=yield y;(yield Promise.all(r.map(N=>S(this,[N],function*({accounts:i,name:p}){try{const D=yield i.get();return g(p,D.filter(({type:I})=>I&&n?n.includes(I):!0),t)}catch(D){return[]}})))).forEach(i=>{s.push(...i)});const f=s.map(({address:i})=>i);return console.log(`web3Accounts: Found ${s.length} address${s.length!==1?"es":""}: ${f.join(", ")}`),s})}function Y(s){return S(this,arguments,function*(n,{ss58Format:t}={}){if(!y)return l("web3AccountsSubscribe");const r={},c=()=>n(Object.entries(r).reduce((i,[p,N])=>(i.push(...g(p,N,t)),i),[])),f=(yield y).map(({accounts:{subscribe:i},name:p})=>i(N=>{r[p]=N,c()}));return()=>{f.forEach(i=>{i()})}})}function A(n){return S(this,null,function*(){if(!y)return l("web3FromSource");const t=yield y,s=n&&t.find(({name:r})=>r===n);if(!s)throw new Error(`web3FromSource: Unable to find an injected ${n}`);return s})}function G(n){return S(this,null,function*(){if(!y)return l("web3FromAddress");const t=yield h();let s;if(n){const r=decodeAddress(n);s=t.find(c=>u8aEq(decodeAddress(c.address),r))}if(!s)throw new Error(`web3FromAddress: Unable to find injected ${n}`);return A(s.meta.source)})}function q(n){return S(this,null,function*(){const{provider:t}=yield A(n);return t?t.listProviders():(console.warn(`Extension ${n} does not expose any provider`),null)})}function _(n,t){return S(this,null,function*(){const{provider:s}=yield A(n);if(!s)throw new Error(`Extension ${n} does not expose any provider`);return{meta:yield s.startProvider(t),provider:s}})}},9050:function(j){j.exports={selectAccount:"selectAccount___1teE1",field:"field___25N9O",title:"title___1fbWV",value:"value___16IkH"}},56324:function(j){j.exports={indexContainer:"indexContainer___16TcI",indexCard:"indexCard___3phVU",subTitle:"subTitle___3mFae",buttons:"buttons___1JumY",or:"or___6GuyF",button:"button___1ATFT"}},24787:function(j){j.exports={mainContainer:"mainContainer___VzUCC",mainBgContainer:"mainBgContainer___2Nlq7",mainTopContainer:"mainTopContainer___2Cw6K",contentContainer:"contentContainer___2e-al",badge:"badge___3vf4B",dashboardCard:"dashboardCard___3oOcj",windowCard:"windowCard___3FjX2",windowCardBody:"windowCardBody___2zSRs",field:"field___3q5d2",title:"title___1BPSo",value:"value___1TvCY",rowField:"rowField___1vUg5",switchButton:"switchButton___3EjXy",statistic:"statistic___2TWER",modalBody:"modalBody___3SJQA",dividerTitle:"dividerTitle___1UTj3",table:"table___1zfPw",withAfterInput:"withAfterInput___3UZxJ",tabSelector:"tabSelector___2tj32",tabItem:"tabItem___3ymbk",inactive:"inactive___12iuZ",noAssets:"noAssets___FcwbD",topImage:"topImage___mHPfd"}},17172:function(j,P,e){"use strict";e.r(P),e.d(P,{default:function(){return ie}});var J=e(58024),M=e(39144),k=e(57663),w=e(71577),$=e(74379),l=e(38648),g=e(3182),W=e(2824),y=e(402),V=e(59289),X=e(94043),h=e.n(X),Y=e(67294),A=e(43581),G=e(81773),q=e(24787),_=e.n(q),n=e(56324),t=e.n(n),s=e(53250),r=e(69764),c=e(22385),f=e(31097),i=e(34792),p=e(48086),N=e(51625),D=e(9050),I=e.n(D),ee=e(1096),a=e(85893),re=function(L){var H=L.accounts,O=(0,A.YB)(),K=function(){var m=(0,g.Z)(h().mark(function x(b){var C,u;return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return localStorage.setItem("dashboardCurrentAccount",JSON.stringify(b)),o.prev=1,o.next=4,(0,ee.qX)(b==null?void 0:b.address);case 4:if(C=o.sent,C){o.next=8;break}return p.default.error(O.formatMessage({id:"error.account.notFound"})),o.abrupt("return");case 8:return localStorage.setItem("dashboardControllerUserAddress",b==null?void 0:b.address),localStorage.setItem("dashboardStashUserAddress",C==null?void 0:C.stashAccount),o.next=12,(0,ee.uR)(C==null?void 0:C.stashAccount);case 12:if(u=o.sent,u===null){o.next=19;break}return localStorage.setItem("dashboardDid",u),window.location.href=N.Z.page.dashboard.didPage,o.abrupt("return");case 19:p.default.error(O.formatMessage({id:"error.account.notFound"}));case 20:o.next=27;break;case 22:return o.prev=22,o.t0=o.catch(1),p.default.error(o.t0.message),p.default.error(O.formatMessage({id:"error.account.notFound"})),o.abrupt("return");case 27:case"end":return o.stop()}},x,null,[[1,22]])}));return function(b){return m.apply(this,arguments)}}();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:I().selectAccount,children:H.map(function(m){var x;return(0,a.jsxs)("div",{className:I().field,onClick:function(){K(m)},children:[(0,a.jsx)("span",{className:I().title,children:m==null||(x=m.meta)===null||x===void 0?void 0:x.name}),(0,a.jsx)(f.Z,{placement:"bottomRight",title:m==null?void 0:m.address,children:(0,a.jsx)("span",{className:I().value,children:m==null?void 0:m.address})})]})})})})},se=re,ae=V.Z.Title,oe=function(){var L=(0,Y.useState)(!1),H=(0,W.Z)(L,2),O=H[0],K=H[1],m=(0,Y.useState)([]),x=(0,W.Z)(m,2),b=x[0],C=x[1],u=(0,A.YB)(),ne=function(){(0,s.Z)().canUser},o=function(){var F=(0,g.Z)(h().mark(function R(){var T,E,z,d,U,B,Z;return h().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,window.apiWs.query.assets.metadata.entries();case 2:for(T=v.sent,E={},z=0;z<T.length;z++)d=(0,W.Z)(T[z],2),U=d[0],B=d[1],Z=U.toHuman(),Z&&(E[Z[0]]=B.toHuman());localStorage.setItem("dashboardAssets",JSON.stringify(E));case 6:case"end":return v.stop()}},R)}));return function(){return F.apply(this,arguments)}}(),le=function(){var F=(0,g.Z)(h().mark(function R(){var T,E;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,G.$y)("Parami Dashboard");case 2:if(T=d.sent,T.length!==0){d.next=7;break}l.default.error({message:u.formatMessage({id:"error.noExtension.title"}),description:u.formatMessage({id:"error.noExtension.description"}),duration:null,onClick:function(){var U=(0,g.Z)(h().mark(function Z(){return h().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:window.open("https://polkadot.js.org/extension/");case 1:case"end":return v.stop()}},Z)}));function B(){return U.apply(this,arguments)}return B}(),onClose:function(){var U=(0,g.Z)(h().mark(function Z(){return h().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:window.open("https://polkadot.js.org/extension/");case 1:case"end":return v.stop()}},Z)}));function B(){return U.apply(this,arguments)}return B}()}),d.next=19;break;case 7:return d.next=9,(0,G.vK)();case 9:if(E=d.sent,E.length!==0){d.next=14;break}l.default.error({message:u.formatMessage({id:"error.noExtension.title"}),description:u.formatMessage({id:"error.noExtension.description"}),duration:6}),d.next=19;break;case 14:return localStorage.setItem("dashboardAccounts",JSON.stringify(E)),d.next=17,o();case 17:C(E),K(!0);case 19:case"end":return d.stop()}},R)}));return function(){return F.apply(this,arguments)}}();return(0,Y.useEffect)(function(){ne()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:_().mainContainer,children:(0,a.jsx)("div",{className:t().indexContainer,children:(0,a.jsxs)(M.Z,{className:t().indexCard,children:[(0,a.jsx)(ae,{level:2,style:{fontWeight:"bold",textAlign:"center"},children:u.formatMessage({id:"dashboard.index.title"})}),(0,a.jsx)("span",{className:t().subTitle,children:u.formatMessage({id:"dashboard.index.subtitle"})}),(0,a.jsxs)("div",{className:t().buttons,children:[(0,a.jsx)(w.Z,{type:"primary",shape:"round",size:"large",className:t().button,onClick:function(){A.m8.push(N.Z.page.homePage)},children:u.formatMessage({id:"dashboard.index.createAccount"})}),(0,a.jsx)("span",{className:t().or,children:u.formatMessage({id:"index.or"})}),(0,a.jsx)(w.Z,{shape:"round",size:"large",className:t().button,onClick:function(){le()},children:u.formatMessage({id:"dashboard.index.selectAccount"})})]})]})})}),(0,a.jsx)(r.Z,{visable:O,title:u.formatMessage({id:"dashboard.index.selectAccount"}),content:(0,a.jsx)(se,{accounts:b}),footer:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(w.Z,{block:!0,shape:"round",size:"large",onClick:function(){K(!1)},children:u.formatMessage({id:"common.close"})})})})]})},ie=oe}}]);
