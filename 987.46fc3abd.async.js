(self.webpackChunkparami_wallet=self.webpackChunkparami_wallet||[]).push([[987],{37550:function(ce){ce.exports={advertisement:"advertisement___2lhSh",cover:"cover___3ydoR",viewer:"viewer___BKj8L",meta:"meta___2-A2T",daoCardContent:"daoCardContent___2-Fqi",countDown:"countDown____U0R1",share:"share___3Z4qi",shareButton:"shareButton___1xnZm",userCard:"userCard___21hkC",user:"user___2_ahS",avatar:"avatar___3D1E2",info:"info___1TvVx",did:"did___2l6RX",assetsData:"assetsData___2HKpN",trade:"trade___28ESA",pairCoins:"pairCoins___2MPU-",pairCoinsItem:"pairCoinsItem___9HsfO",pairCoinsSelect:"pairCoinsSelect___3n7mZ",pairCoin:"pairCoin___dCpAR",pairCoinsItemIcon:"pairCoinsItemIcon___3QVpA",pairCoinsItemLabel:"pairCoinsItemLabel___3lpAy",pairCoinsItemInput:"pairCoinsItemInput___3AU_-",pairCoinsBalance:"pairCoinsBalance___q965W",balance:"balance___3vofh",maxButton:"maxButton___2smdF",pairCoinsSwitchButton:"pairCoinsSwitchButton___OiJlN",pairCoinsFlat:"pairCoinsFlat___qvkXZ",submitButton:"submitButton___3CDz3",tradeModal:"tradeModal___zsFM5",input:"input___hw-Kw",field:"field___2IvJY",title:"title___1o7rE",value:"value___2ivq-",container:"container___3S--u",topBar:"topBar___1Bs-Q",sponsored:"sponsored___1GAt0"}},90802:function(ce){ce.exports={dashboard:"dashboard___1yzjn",header:"header___7HFGw",buttons:"buttons____mn0V",button:"button___2bNYM",confirm:"confirm___14R24",topIcon:"topIcon___lcz8T",title:"title___3OHiQ",field:"field___1rYhg",value:"value___VpweH",notUser:"notUser___1H3wh",notSupport:"notSupport___3AII_",icon:"icon___2lOpA",text:"text___2HCAz",loading:"loading___38OsL",loadingTip:"loadingTip___2K2wM",avatar:"avatar___1Itlz",rotate:"rotate___3cdkL",image_blur:"image_blur___1JtdU"}},44729:function(ce,le,a){"use strict";var Ae=a(71194),E=a(48889),J=a(67294),_=a(55133),I=a.n(_),i=a(85893),ie=function(A){var v=A.visable,s=A.content,D=A.footer;return(0,i.jsx)(E.Z,{title:!1,closable:!1,className:I().modal,centered:!0,visible:v,width:650,footer:D,children:s})};le.Z=ie},57651:function(ce,le,a){"use strict";var Ae=a(67294),E=a(31639),J=a.n(E),_=a(96534),I=a(85893),i=function(M){var A=M.value,v=M.symbol;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:J().did,children:[(0,_.MP)(A),v&&(0,I.jsxs)("span",{className:J().unit,children:["\xA0",v]})]})})};le.Z=i},11807:function(ce,le,a){"use strict";a.r(le),a.d(le,{default:function(){return nt}});var Ae=a(12968),E=a(62462),J=a(34792),_=a(48086),I=a(3182),i=a(2824),ie=a(17462),M=a(76772),A=a(94043),v=a.n(A),s=a(67294),D=a(57663),$=a(71577),O=a(49111),$e=a(19650),ma=a(58024),Ze=a(39144),fa=a(71153),pa=a(60331),ga=a(97005),ha=a(55909),w=a.n(ha),xa=a(37550),t=a.n(xa),F=a(43581),Sa=a(2037),ya=a(8812),ja=a(47438),Za=a(71028),Ma=a(33182),Ca=a(68628),ba=a(44729),We=a(69764),Ta=a(8870),Na=a(71763),Xe=a(43002),e=a(85893),Ia=function(l){var r=l.adData,b=s.useState([]),o=(0,i.Z)(b,2),n=o[0],g=o[1],m=BigInt(r==null?void 0:r.budget.replaceAll(",",""));(0,s.useEffect)(function(){(0,Xe.dr)(r==null?void 0:r.id,m).then(function(U){return g(U)})},[r,m]);var j={data:[n,n],xField:"time",yField:["budget","viewer"],geometryOptions:[{geometry:"line",color:"#5B8FF9"},{geometry:"line",color:"#5AD8A6"}],yAxis:{viewer:{min:0,label:{formatter:function(p){return"".concat(p," Viewers")}}},budget:{min:0,label:{formatter:function(p){return"".concat(p," AD3")}}}},legend:{custom:!0,position:"bottom",items:[{value:"value",name:"Viewers",marker:{symbol:"square",style:{fill:"#5B8FF9",r:5}}},{value:"count",name:"Budget",marker:{symbol:"square",style:{fill:"#5AD8A6",r:5}}}]}};return(0,e.jsx)(Na.Z,(0,Ta.Z)({},j))},Aa=Ia,G=a(96534),ze=a(51625),Be=a(57651),Ba=a(20640),Ea=a.n(Ba),Da=function(l){var r=l.ad,b=l.viewer,o=l.asset,n=l.avatar,g=l.did,m=l.adData,j=l.remain,U=(0,s.useState)(!1),p=(0,i.Z)(U,2),V=p[0],oe=p[1],z=(0,s.useState)(!1),H=(0,i.Z)(z,2),ee=H[0],ae=H[1],h=(0,F.YB)(),x=localStorage.getItem("did"),Y=x?"https://wallet.parami.io/".concat(g,"?referrer=").concat(x):"https://wallet.parami.io/".concat(g);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:t().container,children:(0,e.jsx)("div",{className:t().topBar,children:(0,e.jsxs)("div",{className:t().sponsored,children:[(0,e.jsx)(E.Z,{src:n||"/images/logo-round-core.svg",className:t().avatar,preview:!1,id:"avatar",fallback:"/images/logo-round-core.svg"}),(0,e.jsx)("span",{children:h.formatMessage({id:"creator.explorer.advertisement.sponsoredBy"},{did:(0,G.st)(m==null?void 0:m.creator).substring(8)})})]})})}),(0,e.jsx)(Ze.Z,{className:"".concat(w().card," ").concat(t().adCard),bodyStyle:{padding:0,width:"100%"},children:(0,e.jsxs)("div",{className:t().advertisement,children:[(0,e.jsxs)("div",{className:t().cover,children:[(0,e.jsx)("div",{className:t().viewer,children:(0,e.jsxs)(pa.Z,{icon:(0,e.jsx)(Sa.Z,{}),color:"rgba(0,0,0,.5)",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:15,padding:5},onClick:function(){ae(!0)},children:[b,(0,e.jsx)(ya.Z,{style:{fontSize:12,padding:5}})]})}),(0,e.jsx)(E.Z,{src:r==null?void 0:r.media,placeholder:!0,preview:!1,style:{cursor:"pointer",width:"100%"},onClick:function(){window.open(r==null?void 0:r.link)}})]}),(0,e.jsx)(M.Z,{banner:!0,icon:(0,e.jsx)(ja.Z,{}),className:t().meta,message:(0,e.jsxs)(ga.Z,{pauseOnHover:!0,gradient:!1,children:[(0,e.jsx)("strong",{children:r==null?void 0:r.title}),":",r==null?void 0:r.desc]})})]})}),(0,e.jsxs)("span",{className:t().countDown,children:[(0,e.jsx)("span",{style:{fontSize:"1.3rem"},children:h.formatMessage({id:"creator.explorer.advertisement.earnUpTo"},{value:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("span",{style:{color:"#ff5b00",fontSize:"1.3rem",marginLeft:10},children:(0,e.jsx)(Be.Z,{value:ze.Z.const.adEarnUpTo,symbol:o==null?void 0:o.symbol})})})})}),(0,e.jsxs)($e.Z,{children:[(0,e.jsx)(Za.Z,{}),(0,e.jsx)("span",{children:h.formatMessage({id:"creator.explorer.advertisement.remain"})}),(0,e.jsx)("span",{children:(0,e.jsx)(Be.Z,{value:j==null?void 0:j.toString(),symbol:o==null?void 0:o.symbol})})]})]}),(0,e.jsxs)("div",{className:t().share,children:[(0,e.jsx)($.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,e.jsx)(Ma.Z,{}),className:t().shareButton,onClick:(0,I.Z)(v().mark(function T(){var K;return v().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(K={title:"Para Metaverse Identity",text:h.formatMessage({id:"creator.explorer.shareMessage"}),url:Y},!(navigator.canShare&&navigator.canShare(K))){f.next=13;break}return f.prev=2,f.next=5,navigator.share(K);case 5:f.next=11;break;case 7:return f.prev=7,f.t0=f.catch(2),_.default.error(h.formatMessage({id:"error.share.failed"})),f.abrupt("return");case 11:f.next=15;break;case 13:Ea()(Y+" ".concat(h.formatMessage({id:"creator.explorer.shareMessage"}))),_.default.success(h.formatMessage({id:"common.copied"}));case 15:case"end":return f.stop()}},T,null,[[2,7]])})),children:h.formatMessage({id:"creator.explorer.advertisement.share"},{token:o==null?void 0:o.symbol})}),(0,e.jsx)($.Z,{type:"primary",shape:"circle",size:"large",icon:(0,e.jsx)(Ca.Z,{}),onClick:function(){oe(!0)}})]}),(0,e.jsx)(ba.Z,{visable:V,content:h.formatMessage({id:"creator.explorer.advertisement.share.desc"}),footer:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)($.Z,{block:!0,shape:"round",size:"large",onClick:function(){oe(!1)},children:h.formatMessage({id:"common.close"})})})}),(0,e.jsx)(We.Z,{visable:ee,title:h.formatMessage({id:"creator.explorer.chart"}),content:(0,e.jsx)(Aa,{adData:m}),footer:!1,close:function(){ae(!1)}})]})},Oa=Da,Nt=a(13062),Qe=a(36725),It=a(89032),ve=a(1635),At=a(95300),me=a(7277),Bt=a(402),He=a(59289),Me=a(3548),wa=He.Z.Title,Ua=function(l){var r=l.asset,b=l.assetPrice,o=l.totalSupply,n=l.viewer,g=l.member,m=(0,F.YB)();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(wa,{level:5,style:{fontWeight:"bold",textAlign:"center",marginTop:10},className:w().title,children:m.formatMessage({id:"creator.explorer.stat"})}),(0,e.jsx)(Ze.Z,{className:w().card,bodyStyle:{width:"100%"},children:(0,e.jsx)("div",{className:t().stat,children:(0,e.jsxs)(Qe.Z,{gutter:[16,16],children:[(0,e.jsx)(ve.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(me.Z,{title:"1 "+(r==null?void 0:r.symbol),formatter:function(){return(0,e.jsx)(Me.Z,{value:b})}})}),(0,e.jsx)(ve.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(me.Z,{title:m.formatMessage({id:"creator.explorer.totalIssues"}),formatter:function(){return(0,e.jsx)(Be.Z,{value:o.toString(),symbol:r==null?void 0:r.symbol})}})}),(0,e.jsx)(ve.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(me.Z,{title:m.formatMessage({id:"creator.explorer.totalValue"}),formatter:function(){return(0,e.jsx)(Me.Z,{value:(BigInt(b)*BigInt(3e6)).toString()})}})}),(0,e.jsx)(ve.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(me.Z,{title:m.formatMessage({id:"creator.explorer.reservedValue"}),formatter:function(){return(0,e.jsx)(Me.Z,{value:(BigInt(b)*BigInt(1e6)).toString()})}})}),(0,e.jsx)(ve.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(me.Z,{title:m.formatMessage({id:"creator.explorer.members"}),value:g==null?void 0:g.length})}),(0,e.jsx)(ve.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(me.Z,{title:m.formatMessage({id:"creator.explorer.totalViewers"}),value:n})})]})})})]})},Pa=Ua,Et=a(48736),ke=a(27049),Fa=a(42297),La=function(l){var r=l.avatar,b=l.did,o=l.user,n=l.asset,g=(0,F.YB)(),m=He.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ke.Z,{children:(0,e.jsx)("strong",{style:{opacity:.5},children:g.formatMessage({id:"creator.explorer.aboutDao",defaultMessage:"About {name} DAO"},{name:o==null?void 0:o.nickname})})}),(0,e.jsx)(Ze.Z,{className:t().userCard,bodyStyle:{width:"100%"},children:(0,e.jsxs)("div",{className:t().user,children:[(0,e.jsx)(E.Z,{src:r||"/images/logo-round-core.svg",className:t().avatar,fallback:"/images/logo-round-core.svg",preview:!1}),(0,e.jsxs)("div",{className:t().info,children:[(0,e.jsx)(m,{level:3,className:t().nickname,children:o==null?void 0:o.nickname}),(0,e.jsx)(Fa.Z,{did:(0,G.Zc)(b)}),n&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ke.Z,{}),(0,e.jsx)("div",{className:t().assetsData,children:(0,e.jsx)(Qe.Z,{gutter:16,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%"},children:(0,e.jsx)(ve.Z,{span:24,children:(0,e.jsx)(me.Z,{title:g.formatMessage({id:"creator.explorer.coinName"}),prefix:"$",value:n==null?void 0:n.name,valueStyle:{textAlign:"center"}})})})})]})]})]})})]})},Wa=La,Ha=a(90802),fe=a.n(Ha),Dt=a(20228),Je=a(11382),Ot=a(77883),_e=a(70507),Ka=a(57254),y=a(59749),L=a(72467),qe=a(46656),Ra=He.Z.Title,$a=function(l){var r=l.content;return(0,e.jsx)(M.Z,{style:{marginBottom:24},message:r,type:"error",showIcon:!0})},za=function(l){var r,b=l.avatar,o=l.asset,n=l.user,g=l.controllerKeystore,m=l.assetPrice,j=(0,s.useState)(!1),U=(0,i.Z)(j,2),p=U[0],V=U[1],oe=(0,s.useState)({}),z=(0,i.Z)(oe,2),H=z[0],ee=z[1],ae=(0,s.useState)("ad3ToToken"),h=(0,i.Z)(ae,2),x=h[0],Y=h[1],T=(0,s.useState)(""),K=(0,i.Z)(T,2),de=K[0],f=K[1],Ce=(0,s.useState)(""),pe=(0,i.Z)(Ce,2),te=pe[0],se=pe[1],Ee=(0,s.useState)(!1),ue=(0,i.Z)(Ee,2),be=ue[0],ge=ue[1],Te=(0,s.useState)(""),he=(0,i.Z)(Te,2),R=he[0],De=he[1],Oe=(0,s.useState)(),P=(0,i.Z)(Oe,2),N=P[0],W=P[1],xe=(0,F.tT)("assets"),k=xe.assetsArr,B=(0,F.tT)("balance"),we=B.stash,re=(0,F.YB)(),Ke=function(){var ne=(0,I.Z)(v().mark(function Z(){return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:V(!0),c.t0=x,c.next=c.t0==="ad3ToToken"?4:c.t0==="tokenToAd3"?14:24;break;case 4:return c.prev=4,c.next=7,(0,L.Ht)(n==null?void 0:n.nft,(0,y.HM)(de,18).toString(),(0,y.HM)(N,18).toString(),R,g).then(function(){V(!1)});case 7:return c.abrupt("return");case 10:return c.prev=10,c.t1=c.catch(4),ee({Type:"chain error",Message:c.t1.message}),c.abrupt("return");case 14:return c.prev=14,c.next=17,(0,L.Ro)(n==null?void 0:n.nft,(0,y.HM)(te,18).toString(),(0,y.HM)(N,18).toString(),R,g).then(function(){V(!1)});case 17:return c.abrupt("return");case 20:return c.prev=20,c.t2=c.catch(14),ee({Type:"chain error",Message:c.t2.message}),c.abrupt("return");case 24:case"end":return c.stop()}},Z,null,[[4,10],[14,20]])}));return function(){return ne.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Je.Z,{tip:re.formatMessage({id:"common.submitting"}),spinning:p,wrapperClassName:w().spinContainer,children:(0,e.jsx)(Ze.Z,{className:w().card,bodyStyle:{width:"100%",padding:"24px 8px"},style:{marginTop:50},children:(0,e.jsxs)("div",{className:t().trade,children:[(0,e.jsx)(Ra,{level:5,style:{fontWeight:"bold",textAlign:"center"},className:w().title,children:re.formatMessage({id:"creator.explorer.trade"})}),H.Message&&(0,e.jsx)($a,{content:H.Message}),(0,e.jsxs)("div",{className:t().pairCoins,style:{flexFlow:x==="ad3ToToken"?"column":"column-reverse"},children:[(0,e.jsxs)("div",{className:t().pairCoinsItem,children:[(0,e.jsxs)("div",{className:t().pairCoinsSelect,children:[(0,e.jsxs)("div",{className:t().pairCoin,children:[(0,e.jsx)(E.Z,{src:"/images/logo-round-core.svg",preview:!1,className:t().pairCoinsItemIcon}),(0,e.jsx)("span",{className:t().pairCoinsItemLabel,children:"AD3"})]}),(0,e.jsx)(_e.Z,{autoFocus:!1,size:"large",placeholder:"0",bordered:!1,value:x==="ad3ToToken"?de:N,className:t().pairCoinsItemInput,stringMode:!0,onChange:function(Z){x==="ad3ToToken"&&(f(Z),(0,L.hM)(n==null?void 0:n.nft,(0,y.HM)(Z,18).toString()).then(function(X){W((0,y.mI)(X,18))})),x==="tokenToAd3"&&(W(Z),(0,L.__)(n==null?void 0:n.nft,(0,y.HM)(Z,18).toString()).then(function(X){se((0,y.mI)(X,18))}))}})]}),(0,e.jsxs)("div",{className:t().pairCoinsBalance,children:[(0,e.jsxs)("span",{className:t().balance,children:[re.formatMessage({id:"creator.explorer.trade.balance",defaultMessage:"Balance"}),": ",(0,e.jsx)(Me.Z,{value:we.free})]}),(0,e.jsx)($.Z,{type:"link",size:"middle",className:t().maxButton,onClick:function(){f((0,y.mI)(we.free,18))},children:re.formatMessage({id:"creator.explorer.trade.balance.max",defaultMessage:"MAX"})})]})]}),(0,e.jsx)($.Z,{type:"primary",shape:"circle",size:"middle",icon:(0,e.jsx)(Ka.Z,{}),className:t().pairCoinsSwitchButton,onClick:function(){Y(x==="ad3ToToken"?"tokenToAd3":"ad3ToToken"),f(""),se(""),W(null)}}),(0,e.jsxs)("div",{className:t().pairCoinsItem,children:[(0,e.jsxs)("div",{className:t().pairCoinsSelect,children:[(0,e.jsxs)("div",{className:t().pairCoin,children:[(0,e.jsx)(E.Z,{src:b||"/images/logo-round-core.svg",preview:!1,className:t().pairCoinsItemIcon}),(0,e.jsx)("span",{className:t().pairCoinsItemLabel,children:o==null?void 0:o.symbol})]}),(0,e.jsx)(_e.Z,{autoFocus:!1,size:"large",placeholder:"0",bordered:!1,value:x==="tokenToAd3"?te:N,className:t().pairCoinsItemInput,stringMode:!0,onChange:function(Z){x==="tokenToAd3"&&(se(Z),(0,L.sL)(n==null?void 0:n.nft,(0,y.HM)(Z,18).toString()).then(function(X){W((0,y.mI)(X,18))})),x==="ad3ToToken"&&(W(Z),(0,L.Zz)(n==null?void 0:n.nft,(0,y.HM)(Z,18).toString()).then(function(X){f((0,y.mI)(X,18))}))}})]}),(0,e.jsxs)("div",{className:t().pairCoinsBalance,children:[(0,e.jsxs)("span",{className:t().balance,children:[re.formatMessage({id:"creator.explorer.trade.balance",defaultMessage:"Balance"}),": ",(0,e.jsx)(Be.Z,{value:(r=k[n==null?void 0:n.nft])===null||r===void 0?void 0:r.balance,symbol:o==null?void 0:o.symbol})]}),(0,e.jsx)($.Z,{type:"link",size:"middle",className:t().maxButton,onClick:function(){var Z;se((0,y.mI)((Z=k[n==null?void 0:n.nft])===null||Z===void 0?void 0:Z.balance,18))},children:re.formatMessage({id:"creator.explorer.trade.balance.max",defaultMessage:"MAX"})})]})]})]}),(0,e.jsx)("div",{className:t().pairCoinsFlat,children:(0,e.jsxs)($e.Z,{children:[(0,e.jsx)(Be.Z,{value:(0,y.HM)("1",18).toString(),symbol:o==null?void 0:o.symbol}),(0,e.jsx)("span",{children:"="}),(0,e.jsx)(Me.Z,{value:m})]})}),(0,e.jsx)($.Z,{block:!0,type:"primary",size:"large",shape:"round",className:t().submitButton,onClick:function(){ge(!0)},children:re.formatMessage({id:"creator.explorer.trade.swap",defaultMessage:"Swap"})})]})})}),(0,e.jsx)(qe.Z,{visable:be,setVisable:ge,password:R,setPassword:De,func:Ke})]})},ka=za,Ga=a(51615),wt=a(47673),ea=a(32787),Va=a(1096),Ya=He.Z.Title,Xa=function(l){var r=l.content;return(0,e.jsx)(M.Z,{style:{marginBottom:24},message:r,type:"error",showIcon:!0})},Qa=function(l){var r=l.did,b=l.stashUserAddress,o=l.controllerKeystore,n=(0,F.tT)("apiWs"),g=(0,s.useState)(!1),m=(0,i.Z)(g,2),j=m[0],U=m[1],p=(0,s.useState)(!1),V=(0,i.Z)(p,2),oe=V[0],z=V[1],H=(0,s.useState)({}),ee=(0,i.Z)(H,2),ae=ee[0],h=ee[1],x=(0,s.useState)("0"),Y=(0,i.Z)(x,2),T=Y[0],K=Y[1],de=(0,s.useState)(""),f=(0,i.Z)(de,2),Ce=f[0],pe=f[1],te=(0,s.useState)(!1),se=(0,i.Z)(te,2),Ee=se[0],ue=se[1],be=(0,s.useState)(null),ge=(0,i.Z)(be,2),Te=ge[0],he=ge[1],R=(0,F.YB)(),De=function(){var P=(0,I.Z)(v().mark(function N(){var W,xe;return v().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,(0,Va.N7)(b);case 3:W=B.sent,xe=W.freeBalance,he("".concat(xe)),B.next=11;break;case 8:B.prev=8,B.t0=B.catch(0),h({Type:"chain error",Message:B.t0.message});case 11:case"end":return B.stop()}},N,null,[[0,8]])}));return function(){return P.apply(this,arguments)}}(),Oe=function(){var P=(0,I.Z)(v().mark(function N(){var W;return v().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return W=(0,G.Zc)(r),k.next=3,(0,L.gE)(W,(0,y.HM)(T,18).toString(),Ce,o);case 3:z(!1),U(!1);case 5:case"end":return k.stop()}},N)}));return function(){return P.apply(this,arguments)}}();return(0,s.useEffect)(function(){n&&De()},[n]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(Je.Z,{tip:R.formatMessage({id:"common.submitting"}),spinning:j,wrapperClassName:w().pageContainer,children:[(0,e.jsxs)(Ze.Z,{className:w().card,bodyStyle:{width:"100%"},children:[ae.Message&&(0,e.jsx)(Xa,{content:ae.Message}),(0,e.jsxs)("div",{className:t().trade,children:[(0,e.jsx)(Ya,{level:3,style:{fontWeight:"bold",textAlign:"center"},className:w().title,children:R.formatMessage({id:"creator.explorer.support"})}),(0,e.jsx)(ea.Z,{autoFocus:!0,size:"large",placeholder:"0",bordered:!1,className:"".concat(t().input," bigInput"),value:T,onChange:function(N){K(N.target.value)},disabled:j,type:"number"}),(0,e.jsx)(ke.Z,{}),(0,e.jsx)($.Z,{block:!0,shape:"round",type:"primary",size:"large",onClick:function(){z(!0)},children:R.formatMessage({id:"creator.explorer.support"})})]})]}),(0,e.jsx)(We.Z,{visable:oe,title:R.formatMessage({id:"creator.explorer.support"}),content:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:t().tradeModal,children:[(0,e.jsx)(ea.Z,{autoFocus:!0,size:"large",placeholder:R.formatMessage({id:"miner.add.number.placeholder"}),bordered:!1,className:"".concat(t().input," bigInput"),value:T,onChange:function(N){K(N.target.value)},disabled:j,type:"number"}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("span",{className:t().title,children:R.formatMessage({id:"creator.explorer.availableBalance"})}),(0,e.jsx)("span",{className:t().value,children:(0,e.jsx)(Me.Z,{value:Te})})]})]})}),footer:(0,e.jsx)($.Z,{block:!0,shape:"round",type:"primary",size:"large",loading:j,disabled:(0,y.HM)(T,18)<=BigInt(0)||(0,y.HM)(T,18)>BigInt(Te),onClick:function(){U(!0),ue(!0)},children:R.formatMessage({id:"common.submit"})}),close:function(){z(!1)}}),(0,e.jsx)(qe.Z,{visable:Ee,setVisable:ue,password:Ce,setPassword:pe,func:Oe})]})})},Ja=Qa,_a=a(25219),qa=a(57212),et=a(45843),at=function(l){var r=l.content;return(0,e.jsx)(M.Z,{style:{marginBottom:24},message:r,type:"error",showIcon:!0})},aa=window.navigator.userAgent.toLowerCase(),tt=/iphone|ipod|ipad/.test(aa),st=/android|adr/.test(aa),rt=function(){var l,r,b=(0,F.tT)("apiWs"),o=(0,s.useState)({}),n=(0,i.Z)(o,2),g=n[0],m=n[1],j=(0,s.useState)(!0),U=(0,i.Z)(j,2),p=U[0],V=U[1],oe=(0,s.useState)(""),z=(0,i.Z)(oe,2),H=z[0],ee=z[1],ae=(0,s.useState)(!0),h=(0,i.Z)(ae,2),x=h[0],Y=h[1],T=(0,s.useState)(),K=(0,i.Z)(T,2),de=K[0],f=K[1],Ce=(0,s.useState)(),pe=(0,i.Z)(Ce,2),te=pe[0],se=pe[1],Ee=(0,s.useState)(""),ue=(0,i.Z)(Ee,2),be=ue[0],ge=ue[1],Te=(0,s.useState)(),he=(0,i.Z)(Te,2),R=he[0],De=he[1],Oe=(0,s.useState)(BigInt(0)),P=(0,i.Z)(Oe,2),N=P[0],W=P[1],xe=(0,s.useState)(!1),k=(0,i.Z)(xe,2),B=k[0],we=k[1],re=(0,s.useState)(!1),Ke=(0,i.Z)(re,2),ne=Ke[0],Z=Ke[1],X=(0,s.useState)({}),c=(0,i.Z)(X,2),Ge=c[0],lt=c[1],it=(0,s.useState)(null),ta=(0,i.Z)(it,2),ot=ta[0],dt=ta[1],ut=(0,s.useState)(),sa=(0,i.Z)(ut,2),ra=sa[0],ct=sa[1],vt=(0,s.useState)(),na=(0,i.Z)(vt,2),mt=na[0],ft=na[1],pt=(0,s.useState)(),la=(0,i.Z)(pt,2),gt=la[0],ht=la[1],Ue=(0,F.YB)(),Ve=(0,F.md)(),xt=(l=document.getElementById("avatar"))===null||l===void 0?void 0:l.offsetTop,St=(r=document.getElementById("avatar"))===null||r===void 0?void 0:r.offsetLeft,ia=document.body.clientHeight,yt=document.body.clientWidth,oa=(0,Ga.UO)(),jt=localStorage.getItem("did"),Se=oa.kol?"did"+oa.kol:(0,G.st)(jt),Zt=localStorage.getItem("stashUserAddress"),da=localStorage.getItem("controllerKeystore"),Mt=F.m8.location.query,Ct=Mt,ua=Ct.referrer,bt=function(){var Re=(0,I.Z)(v().mark(function Pe(){var Ne,ye,S,C,Ie,je,Fe,Q,Le;return v().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,(0,_a.qX)((0,G.Zc)(Se));case 3:if(S=d.sent,S){d.next=6;break}return d.abrupt("return");case 6:if(C=S.ad,lt(C),C!=null&&C.metadata){d.next=10;break}return d.abrupt("return");case 10:if(!((C==null||(Ne=C.metadata)===null||Ne===void 0?void 0:Ne.indexOf("ipfs://"))<0)){d.next=12;break}return d.abrupt("return");case 12:return Ie=C==null||(ye=C.metadata)===null||ye===void 0?void 0:ye.substring(7),d.next=15,(0,Xe.ly)(C==null?void 0:C.id);case 15:return je=d.sent,ct(je),d.next=19,fetch(ze.Z.ipfs.endpoint+Ie);case 19:return Fe=d.sent,d.next=22,Fe.json();case 22:if(Q=d.sent,Q){d.next=25;break}return d.abrupt("return");case 25:return Q.link=Q.link+"?kol="+(0,G.Zc)(Se),ua&&(Q.link+="&referrer="+ua),dt(Q),d.next=31,(0,L.WC)(S);case 31:Le=d.sent,ht(Le),d.next=39;break;case 35:return d.prev=35,d.t0=d.catch(0),m({Type:"chain error",Message:d.t0.message}),d.abrupt("return");case 39:case"end":return d.stop()}},Pe,null,[[0,35]])}));return function(){return Re.apply(this,arguments)}}(),Tt=function(){var Re=(0,I.Z)(v().mark(function Pe(){var Ne,ye,S,C,Ie,je,Fe,Q,Le,Ye,d,ca,va;return v().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,Ne=(0,G.Zc)(Se),u.next=4,(0,L.CC)(Ne);case 4:if(ye=u.sent,!ye.isEmpty){u.next=9;break}return _.default.error(Ue.formatMessage({id:"error.account.notFound"})),F.m8.goBack(),u.abrupt("return");case 9:if(S=ye.toHuman(),f(S),!(S.avatar.indexOf("ipfs://")>-1)){u.next=20;break}return C=S.avatar.substring(7),u.next=16,(0,et.nH)(ze.Z.ipfs.endpoint+C);case 16:Ie=u.sent,je=Ie.response,Fe=Ie.data,(je==null?void 0:je.status)===200&&ee(window.URL.createObjectURL(Fe));case 20:if(document.title="".concat((S==null?void 0:S.nickname)||Se," - Para Metaverse Identity"),S.nft===null){u.next=47;break}return u.next=25,(0,L.Ay)(S.nft);case 25:if(Q=u.sent,!Q.isEmpty){u.next=29;break}return Y(!1),u.abrupt("return");case 29:return Le=Q.toHuman(),se(Le),u.next=33,(0,L.sL)(S.nft,(0,G.Vm)("1"));case 33:return Ye=u.sent,ge(Ye.toString()),u.next=37,(0,L.f5)(S.nft);case 37:return d=u.sent,De(d),ca=d.unwrap().supply.toString(),W(BigInt(ca)),u.next=43,(0,L.r7)(S==null?void 0:S.nft);case 43:va=u.sent,ft(va),u.next=48;break;case 47:Y(!1);case 48:return u.next=51,bt();case 51:setTimeout(function(){V(!1)},2e3),u.next=58;break;case 54:return u.prev=54,u.t0=u.catch(0),m({Type:"chain error",Message:u.t0.message}),u.abrupt("return");case 58:case"end":return u.stop()}},Pe,null,[[0,54]])}));return function(){return Re.apply(this,arguments)}}();return(0,s.useEffect)(function(){sessionStorage.setItem("redirect",window.location.href),(0,G.QC)()||Z(!0),!Ve.canUser&&(0,G.QC)()&&we(!0),b&&Tt()},[b]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:w().mainContainer,children:[x&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.Z,{src:H||"/images/default-avatar.svg",fallback:"/images/default-avatar.svg",className:fe().avatar,style:{top:p?(ia-400)/2:xt,left:p?(yt-200)/2:St,width:p?200:30,height:p?200:30,animation:p?1:0,position:p?"fixed":"absolute",display:p||Object.keys(Ge).length?"flex":"none"},preview:!1}),(0,e.jsx)("div",{className:fe().loading,style:{opacity:p?1:0,zIndex:p?10:-1,height:ia},children:(0,e.jsx)("span",{className:fe().loadingTip,children:Ue.formatMessage({id:"creator.explorer.loading.tip",defaultMessage:"Let's find out more about the NFT.{br} Surprise awaits..."},{br:(0,e.jsx)("br",{})})})})]}),g.Message&&(0,e.jsx)(at,{content:g.Message}),!x&&Ve.canUser&&(0,e.jsx)("div",{className:w().pageContainer,style:{paddingTop:50,maxWidth:1920},children:(0,e.jsx)(Ja,{did:Se,stashUserAddress:Zt,controllerKeystore:da})}),x&&Object.keys(Ge).length>0&&(0,e.jsx)("div",{className:w().pageContainer,style:{paddingTop:50,maxWidth:"100%",backgroundColor:"rgba(244,245,246,1)"},children:(0,e.jsx)(Oa,{ad:ot,viewer:ra,asset:te,avatar:H,did:Se,adData:Ge,remain:gt})}),(0,e.jsx)("div",{className:w().pageContainer,style:{paddingTop:50,maxWidth:1920},children:(0,e.jsx)(Wa,{avatar:H,did:Se,user:de,asset:te})}),(0,e.jsx)("div",{className:w().pageContainer,style:{paddingTop:50,maxWidth:1920},children:x&&Ve.canUser&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Pa,{asset:te,assetPrice:be,totalSupply:N,viewer:ra,member:mt}),(0,e.jsx)(ka,{avatar:H,asset:te,user:de,controllerKeystore:da,assetPrice:be})]})})]}),(0,e.jsx)(We.Z,{visable:B,title:Ue.formatMessage({id:"error.account.notUser"}),content:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(qa.default,{minimal:!0})}),close:function(){return we(!1)},footer:!1}),(0,e.jsx)(We.Z,{visable:ne,title:Ue.formatMessage({id:"error.broswer.notSupport.title"}),content:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:fe().notSupport,children:[tt&&(0,e.jsx)(E.Z,{src:"/images/icon/safari_logo.svg",preview:!1,className:fe().icon}),st&&(0,e.jsx)(E.Z,{src:"/images/icon/chrome_logo.svg",preview:!1,className:fe().icon}),(0,e.jsx)(M.Z,{message:Ue.formatMessage({id:"error.broswer.notSupport"}),type:"error",className:fe().text})]})}),footer:!1,close:void 0})]})},nt=rt},25219:function(ce,le,a){"use strict";a.d(le,{qX:function(){return _},CC:function(){return I}});var Ae=a(3182),E=a(94043),J=a.n(E),_=function(){var ie=(0,Ae.Z)(J().mark(function M(A){var v,s,D;return J().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,window.apiWs.query.ad.slotOf(A);case 2:if(v=O.sent,!v.isEmpty){O.next=5;break}return O.abrupt("return",null);case 5:return s=v.toHuman(),O.next=8,window.apiWs.query.ad.metadata(s.ad);case 8:if(D=O.sent,!D.isEmpty){O.next=11;break}return O.abrupt("return",null);case 11:return s.ad=D.toHuman(),O.abrupt("return",s);case 13:case"end":return O.stop()}},M)}));return function(A){return ie.apply(this,arguments)}}(),I=function(){var ie=(0,Ae.Z)(J().mark(function M(A){var v;return J().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,window.apiWs.query.did.metadata(A);case 2:return v=D.sent,D.abrupt("return",v);case 4:case"end":return D.stop()}},M)}));return function(A){return ie.apply(this,arguments)}}(),i=null}}]);
